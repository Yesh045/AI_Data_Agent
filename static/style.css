* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', sans-serif; background: #ECECEC; color: #111; line-height: 1.6; overflow: hidden; }

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', sans-serif; background: #ECECEC; color: #111; line-height: 1.6; overflow: hidden; }
/* ... (The rest of your beautiful CSS goes here, exactly as you provided it) ... */
.dashboard-container { display: flex; width: 100vw; height: 100vh; }
.chat-panel { flex: 1; min-width: 420px; max-width: 480px; display: flex; flex-direction: column; background: #FFF; box-shadow: 4px 0 20px rgba(0,0,0,0.05); z-index: 10; }
.analysis-panel { flex: 2.5; display: flex; flex-direction: column; background: #F5F5F5; }
header { padding: 24px 32px; background: linear-gradient(135deg, #0D1B2A 0%, #1C1C1E 100%); color: #FFF; display: flex; justify-content: space-between; align-items: center; flex-shrink: 0; }
.analysis-panel header { background: linear-gradient(135deg, #2C3E50 0%, #34495E 100%); }
header h1, header h2 { margin: 0; font-size: 1.75em; font-weight: 600; }
.data-source-container { position: relative; }
.data-source-btn { background: #D4AF37; color: #0D1B2A; border: none; padding: 12px 24px; border-radius: 12px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 0.95em; transition: all 0.3s; }
.dropdown-content { display: none; position: absolute; right: 0; top: calc(100% + 8px); background: #FFF; min-width: 320px; box-shadow: 0 16px 40px rgba(0,0,0,0.1); border-radius: 16px; z-index: 1000; }
.dropdown-content.show { display: block; }
.dropdown-section { padding: 20px; border-bottom: 1px solid #EEE; }
.dropdown-option { display: block; width: 100%; padding: 14px 18px; margin: 8px 0; border: 1px solid #EEE; border-radius: 10px; background: #FFF; color: #0D1B2A; cursor: pointer; text-align: left; }
.dropdown-option:hover { background: #F0F0F0; }
.file-input { display: none; }
.connection-status { background: #EEE; color: #555; padding: 12px 18px; border-radius: 10px; font-size: 0.85em; text-align: center; }
.connection-status.success { background: #2ECC71; color: #FFF; }
.connection-status.error { background: #E74C3C; color: #FFF; }
.chat-box { flex-grow: 1; overflow-y: auto; padding: 32px 24px; }
.message { margin-bottom: 20px; padding: 16px 24px; border-radius: 20px; max-width: 85%; }
.user-message { background: #0D1B2A; color: #FFF; align-self: flex-end; margin-left: auto; }
.bot-message { background: #F8F9FA; color: #111; align-self: flex-start; border: 1px solid #EEE; }
.input-area { display: flex; padding: 24px; background: #FFF; border-top: 1px solid #EEE; gap: 16px; }
#user-input { flex-grow: 1; border: 2px solid #DDD; border-radius: 16px; padding: 16px 24px; font-size: 1em; outline: none; }
#user-input:focus { border-color: #D4AF37; }
#send-btn { background: #D4AF37; color: #0D1B2A; border: none; padding: 0 24px; border-radius: 16px; font-size: 1.2em; cursor: pointer; font-weight: 600; }
#user-input:disabled, #send-btn:disabled { background: #ECECEC; cursor: not-allowed; opacity: 0.6; }
.insight-box { padding: 32px; flex-grow: 1; overflow-y: auto; }
.charts-grid { display: grid; grid-template-columns: 1fr 1fr; grid-auto-rows: minmax(300px, 1fr); gap: 24px; margin-bottom: 24px; }
.chart-card { background: #FFF; border-radius: 20px; padding: 24px; box-shadow: 0 8px 32px rgba(0,0,0,0.05); display: flex; flex-direction: column; }
.chart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid #EEE; }
.chart-title { font-size: 1.1em; font-weight: 600; color: #0D1B2A; }
.chart-type-badge { background: #D4AF37; color: #0D1B2A; padding: 4px 12px; border-radius: 12px; font-size: 0.75em; font-weight: 600; text-transform: uppercase; }
.chart-container { flex-grow: 1; position: relative; min-height: 200px; }
.chart-container canvas { width: 100% !important; height: 100% !important; }
.chart-placeholder { display: flex; align-items: center; justify-content: center; height: 100%; color: #888; text-align: center; background: #F8F9FA; border-radius: 12px; border: 2px dashed #DDD; }
#results-section { margin-top: 32px; }
.table-wrapper { max-height: 400px; overflow-y: auto; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.05); border: 1px solid #EEE; }
.results-table { width: 100%; border-collapse: collapse; background: #FFF; }
.results-table th, .results-table td { padding: 16px 20px; text-align: left; border-bottom: 1px solid #EEE; }
.results-table th { background: #0D1B2A; color: #FFF; font-weight: 600; font-size: 0.9em; text-transform: uppercase; position: sticky; top: 0; }
.results-table td { color: #555; }
#download-charts-btn { background: #2ECC71; color: #FFF; border: none; padding: 12px 24px; border-radius: 12px; font-weight: 600; cursor: pointer; }





.dashboard-container { display: flex; width: 100vw; height: 100vh; }
.chat-panel { flex: 1; min-width: 420px; max-width: 480px; display: flex; flex-direction: column; background: #FFF; box-shadow: 4px 0 20px rgba(0,0,0,0.05); z-index: 10; }
.analysis-panel { flex: 2.5; display: flex; flex-direction: column; background: #F5F5F5; }
header { padding: 24px 32px; background: #0D1B2A; color: #FFF; display: flex; justify-content: space-between; align-items: center; flex-shrink: 0; }
.analysis-panel header { background: #2C3E50; }
header h1, header h2 { margin: 0; font-size: 1.75em; font-weight: 600; }
.data-source-container { position: relative; }
.data-source-btn { background: #D4AF37; color: #0D1B2A; border: none; padding: 12px 24px; border-radius: 12px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 0.95em; transition: all 0.3s; }
.dropdown-content { display: none; position: absolute; right: 0; top: calc(100% + 8px); background: #FFF; min-width: 320px; box-shadow: 0 16px 40px rgba(0,0,0,0.1); border-radius: 16px; z-index: 1000; }
.dropdown-content.show { display: block; }
.dropdown-section { padding: 20px; border-bottom: 1px solid #EEE; }
.dropdown-section:last-child { border-bottom: none; }
.dropdown-section h4 { margin: 0 0 16px 0; color: #0D1B2A; }
.dropdown-option { display: block; width: 100%; padding: 14px 18px; margin: 8px 0; border: 1px solid #EEE; border-radius: 10px; background: #FFF; color: #0D1B2A; cursor: pointer; font-size: 0.9em; text-align: left; }
.dropdown-option:hover { background: #F0F0F0; }
.file-input { display: none; }
.connection-status { background: #EEE; color: #555; padding: 12px 18px; border-radius: 10px; font-size: 0.85em; text-align: center; }
.connection-status.success { background: #2ECC71; color: #FFF; }
.connection-status.error { background: #E74C3C; color: #FFF; }
.chat-box { flex-grow: 1; overflow-y: auto; padding: 32px 24px; }
.message { margin-bottom: 20px; padding: 16px 24px; border-radius: 20px; max-width: 85%; line-height: 1.6; }
.user-message { background: #0D1B2A; color: #FFF; align-self: flex-end; margin-left: auto; }
.bot-message { background: #F8F9FA; color: #111; align-self: flex-start; border: 1px solid #EEE; }
.input-area { display: flex; padding: 24px; background: #FFF; border-top: 1px solid #EEE; gap: 16px; }
#user-input { flex-grow: 1; border: 2px solid #DDD; border-radius: 16px; padding: 16px 24px; font-size: 1em; outline: none; }
#user-input:focus { border-color: #D4AF37; }
#send-btn { background: #D4AF37; color: #0D1B2A; border: none; padding: 0 24px; border-radius: 16px; font-size: 1.2em; cursor: pointer; font-weight: 600; }
#user-input:disabled, #send-btn:disabled { background: #ECECEC; cursor: not-allowed; opacity: 0.6; }
.insight-box { padding: 32px; flex-grow: 1; overflow-y: auto; }
.charts-grid { display: grid; grid-template-columns: 1fr 1fr; grid-auto-rows: minmax(300px, 1fr); gap: 24px; margin-bottom: 24px; }
.chart-card { background: #FFF; border-radius: 20px; padding: 24px; box-shadow: 0 8px 32px rgba(0,0,0,0.05); display: flex; flex-direction: column; }
.chart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid #EEE; }
.chart-title { font-size: 1.1em; font-weight: 600; color: #0D1B2A; }
.chart-type-badge { background: #D4AF37; color: #0D1B2A; padding: 4px 12px; border-radius: 12px; font-size: 0.75em; font-weight: 600; text-transform: uppercase; }
.chart-container { flex-grow: 1; position: relative; min-height: 200px; }
.chart-container canvas { width: 100% !important; height: 100% !important; }
.chart-placeholder { display: flex; align-items: center; justify-content: center; height: 100%; color: #888; text-align: center; background: #F8F9FA; border-radius: 12px; border: 2px dashed #DDD; }
#results-section { margin-top: 32px; }
.table-wrapper { max-height: 400px; overflow-y: auto; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.05); border: 1px solid #EEE; }
.results-table { width: 100%; border-collapse: collapse; background: #FFF; }
.results-table th, .results-table td { padding: 16px 20px; text-align: left; border-bottom: 1px solid #EEE; }
.results-table th { background: #0D1B2A; color: #FFF; font-weight: 600; font-size: 0.9em; text-transform: uppercase; position: sticky; top: 0; }
.results-table td { color: #555; }
#download-charts-btn { background: #2ECC71; color: #FFF; border: none; padding: 12px 24px; border-radius: 12px; font-weight: 600; cursor: pointer; }
/* ... all of your existing beautiful CSS ... */

/* Style for the truncation notice */
.truncation-notice {
    text-align: center;
    font-style: italic;
    color: #888;
    margin-top: 10px;
    font-size: 0.85em;
    padding: 8px;
    background-color: #f8f9fa;
    border-radius: 8px;
}

/* Style for the new Download Full Results button */
#download-results-btn {
    display: block;
    width: fit-content;
    margin: 20px auto 0 auto;
    background: linear-gradient(135deg, #6c757d 0%, #343a40 100%);
    color: #FFFFFF;
    border: none;
    padding: 12px 24px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

#download-results-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}

/* Style for multi-line textarea */
#user-input {
    resize: none; /* Disable manual resize handle */
    min-height: 24px; /* Corresponds to rows="1" */
    max-height: 120px; /* Limit growth to prevent breaking layout */
    overflow-y: auto;
}